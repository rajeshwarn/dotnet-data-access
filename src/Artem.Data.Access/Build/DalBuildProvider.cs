using System;
using System.Collections.Generic;
using System.Text;
using System.Web.Compilation;

namespace Artem.Data.Access.Build {

    /// <summary>
    /// 
    /// </summary>
    public class DalBuildProvider : BuildProvider {

        #region Methods /////////////////////////////////////////////////////////////////

        /// <summary>
        /// Generates source code for the virtual path of the build provider, and adds the source code to a specified assembly builder.
        /// </summary>
        /// <param name="assemblyBuilder">The assembly builder that references the source code generated by the build provider.</param>
        public override void GenerateCode(AssemblyBuilder assemblyBuilder) {

            using (DalGenerator gen = new DalGenerator(this.VirtualPath, true)) {                
                assemblyBuilder.AddCodeCompileUnit(this, gen.Generate());
                    //CodeHelper.BuildCodeTreeFromMapFile(this.VirtualPath, true));
            }
        }
        #endregion
    }
}
